import{b as v}from"./chunk-PR5IPSC4.js";import{B as $,D as J,c as L,e as V,f as A,g as D,i as G,l as U,n as k,o as j,p as z,u as B,w as O,x as Y,y as Z}from"./chunk-XESAAIJC.js";import{B as d,D as t,E as e,F as S,K as f,T as i,Ya as s,Z as y,Za as _,_a as F,bb as N,cb as q,da as I,db as P,fa as C,gb as T,ha as b,hb as M,ib as R,jb as H,la as w,r as c,s as g,u as E,y as x}from"./chunk-3JAT2R2F.js";import"./chunk-I2Q4BQIR.js";import"./chunk-JZLQNAEF.js";import"./chunk-KZTU6K37.js";import"./chunk-TWFILCKL.js";import"./chunk-G3CV3VGG.js";import"./chunk-P64PGJAX.js";import"./chunk-GSVKY5FB.js";import"./chunk-OZG6UOOH.js";import"./chunk-4U6PRYVA.js";import"./chunk-BTS5SJXR.js";import"./chunk-JWIEPCRG.js";import"./chunk-QPVVTFFW.js";import"./chunk-J6ICYO4L.js";import"./chunk-LF5XB4YN.js";import{i as h}from"./chunk-D2OBB6XO.js";function K(){return l=>{let n=l.value,Q=/[A-Z]/.test(n),o=/[a-z]/.test(n),a=/\d/.test(n),r=/[!@#$%^&*(),.?":{}|<>]/.test(n),m=n&&n.length>=6;return n&&!m?{passwordTooShort:!0}:n&&!Q?{passwordMissingUpperCase:!0}:n&&!r?{passwordMissingSpecialChar:!0}:null}}function W(l,n){l&1&&(t(0,"div")(1,"ion-text",42),i(2,"Password must be at least 6 characters long."),e()())}function X(l,n){l&1&&(t(0,"div")(1,"ion-text",42),i(2,"Password must contain at least one uppercase letter."),e()())}function ee(l,n){l&1&&(t(0,"div")(1,"ion-text",42),i(2,"Password must contain at least one special character."),e()())}var pe=(()=>{let n=class n{constructor(o,a,r){this.fb=o,this.authService=a,this.router=r,this.registerForm=this.fb.group({email:["",[s.required,s.email]],password:["",[s.required,K()]],gender:["",s.required],age:["",s.required],educationLevel:["",s.required],sexualActivity:[""],maritalStatus:["",s.required],testingHistory:["",s.required],hivStatus:["",s.required]})}ngOnInit(){}register(){return h(this,null,function*(){if(this.registerForm.invalid){console.log("Form Errors:",this.registerForm.errors),alert("Please fill in all required fields with valid data.");return}let o=this.registerForm.value;console.log("Sending data:",o);try{let a=yield this.authService.register(o.email,o.password,o.gender,o.age,o.educationLevel,o.sexualActivity,o.maritalStatus,o.testingHistory,o.hivStatus);console.log("Registration successful:",a),this.router.navigate(["/loader"])}catch(a){console.error("Registration failed:",a)}})}goToLogin(){this.router.navigate(["/login"])}};n.\u0275fac=function(a){return new(a||n)(g(M),g(v),g(w))},n.\u0275cmp=E({type:n,selectors:[["app-register"]],features:[y([v])],decls:106,vars:7,consts:[[3,"translucent"],[3,"fullscreen"],[3,"ngSubmit","formGroup"],["position","floating"],["type","email","formControlName","email","required",""],["type","password","formControlName","password","required",""],[4,"ngIf"],["formControlName","gender","required",""],["value","male"],["value","female"],["formControlName","age","required",""],["value","less 14"],["value","14-17"],["value","17-21"],["value","21-25"],["value","26-35"],["value","35+"],["formControlName","educationLevel","required",""],["value","never been in school"],["value","Primary School Incomplete"],["value","Primary School Complete"],["value","Secondary School Incomplete"],["value","Secondary school complete"],["value","graduation level"],["formControlName","sexualActivity"],["value","yes"],["value","no"],["formControlName","maritalStatus","required",""],["value","Married"],["value","Unmarried"],["value","divorce"],["formControlName","testingHistory","required",""],["value","never tested"],["value","tested once"],["value","3-6 months"],["value","more than a year"],["formControlName","hivStatus","required",""],["value","positive"],["value","negative"],["value","no idea"],["expand","block","type","submit",3,"disabled"],["color","success","fill","clear","size","full",3,"click"],["color","danger"]],template:function(a,r){if(a&1&&(t(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),i(3,"Register"),e()()(),t(4,"ion-content",1)(5,"form",2),f("ngSubmit",function(){return r.register()}),t(6,"ion-card")(7,"ion-card-header")(8,"ion-card-title"),i(9,"Fill in the information"),e()(),t(10,"ion-card-content")(11,"ion-item")(12,"ion-label",3),i(13,"Email"),e(),S(14,"ion-input",4),e(),t(15,"ion-item")(16,"ion-label",3),i(17,"Password"),e(),S(18,"ion-input",5),x(19,W,3,0,"div",6)(20,X,3,0,"div",6)(21,ee,3,0,"div",6),e(),t(22,"ion-item")(23,"ion-label",3),i(24,"Gender"),e(),t(25,"ion-select",7)(26,"ion-select-option",8),i(27,"Male"),e(),t(28,"ion-select-option",9),i(29,"Female"),e()()(),t(30,"ion-item")(31,"ion-label",3),i(32,"Age"),e(),t(33,"ion-select",10)(34,"ion-select-option",11),i(35,"Less than 14"),e(),t(36,"ion-select-option",12),i(37,"14-17"),e(),t(38,"ion-select-option",13),i(39,"17-21"),e(),t(40,"ion-select-option",14),i(41,"21-25"),e(),t(42,"ion-select-option",15),i(43,"26-35"),e(),t(44,"ion-select-option",16),i(45,"35+"),e()()(),t(46,"ion-item")(47,"ion-label",3),i(48,"Education Level"),e(),t(49,"ion-select",17)(50,"ion-select-option",18),i(51,"Never been in school"),e(),t(52,"ion-select-option",19),i(53,"Primary School Incomplete"),e(),t(54,"ion-select-option",20),i(55,"Primary School Complete"),e(),t(56,"ion-select-option",21),i(57,"Secondary School Incomplete"),e(),t(58,"ion-select-option",22),i(59,"Secondary school complete"),e(),t(60,"ion-select-option",23),i(61,"Graduation level"),e()()(),t(62,"ion-item")(63,"ion-label",3),i(64,"Have you ever had sex"),e(),t(65,"ion-select",24)(66,"ion-select-option",25),i(67,"Yes"),e(),t(68,"ion-select-option",26),i(69,"No"),e()()(),t(70,"ion-item")(71,"ion-label",3),i(72,"Marital Status"),e(),t(73,"ion-select",27)(74,"ion-select-option",28),i(75,"Married"),e(),t(76,"ion-select-option",29),i(77,"Unmarried"),e(),t(78,"ion-select-option",30),i(79,"Divorce"),e()()(),t(80,"ion-item")(81,"ion-label",3),i(82,"HIV Testing History"),e(),t(83,"ion-select",31)(84,"ion-select-option",32),i(85,"Never tested"),e(),t(86,"ion-select-option",33),i(87,"Tested once"),e(),t(88,"ion-select-option",34),i(89,"3-6 months ago"),e(),t(90,"ion-select-option",35),i(91,"More than 1 year"),e()()(),t(92,"ion-item")(93,"ion-label",3),i(94,"HIV Health Status"),e(),t(95,"ion-select",36)(96,"ion-select-option",37),i(97,"Positive"),e(),t(98,"ion-select-option",38),i(99,"Negative"),e(),t(100,"ion-select-option",39),i(101,"No idea"),e()()()()(),t(102,"ion-button",40),i(103,"Register"),e(),t(104,"ion-button",41),f("click",function(){return r.goToLogin()}),i(105,"Login"),e()()()),a&2){let m,u,p;d("translucent",!0),c(4),d("fullscreen",!0),c(),d("formGroup",r.registerForm),c(14),d("ngIf",((m=r.registerForm.get("password"))==null?null:m.hasError("passwordTooShort"))&&((m=r.registerForm.get("password"))==null?null:m.touched)),c(),d("ngIf",((u=r.registerForm.get("password"))==null?null:u.hasError("passwordMissingUpperCase"))&&((u=r.registerForm.get("password"))==null?null:u.touched)),c(),d("ngIf",((p=r.registerForm.get("password"))==null?null:p.hasError("passwordMissingSpecialChar"))&&((p=r.registerForm.get("password"))==null?null:p.touched)),c(81),d("disabled",r.registerForm.invalid)}},dependencies:[U,k,O,V,A,D,G,j,B,L,b,H,N,_,F,T,q,P,J,$,z,Y,Z,C,I,R],encapsulation:2});let l=n;return l})();export{pe as RegisterPage};
