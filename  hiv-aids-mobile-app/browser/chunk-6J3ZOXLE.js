import{a as l}from"./chunk-PR5IPSC4.js";import{d as i,f as c,ga as p}from"./chunk-3JAT2R2F.js";import{i as s}from"./chunk-D2OBB6XO.js";var m=(()=>{let r=class r{constructor(t){this.http=t,this.apiUrl="http://localhost:8000"}logInteraction(t){return l.post(`${this.apiUrl}/log-interaction`,t).then(o=>o.data).catch(o=>{throw console.error("Error logging interaction:",o),o})}};r.\u0275fac=function(o){return new(o||r)(c(p))},r.\u0275prov=i({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();var w=(()=>{let r=class r{loadContent(){throw new Error("Method not implemented.")}constructor(t){this.http=t,this.apiUrl="https://your-api-url.com/api/pageContents",console.log("HttpClient initialized:",t)}getPageById(t){return this.http.get(`${this.apiUrl}/${t}`)}updatePageVector(t,o,a){let n={interactionType:o,data:a};return this.http.patch(`${this.apiUrl}/${t}/updateVector`,n)}getPageContent(t){return s(this,null,function*(){try{return(yield l.get("http://localhost:3000/pages",{params:{page:t}})).data}catch(o){throw console.error("Error fetching page content",o),o}})}getAllPages(){return this.http.get(this.apiUrl)}};r.\u0275fac=function(o){return new(o||r)(c(p))},r.\u0275prov=i({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();var j=(()=>{let r=class r{constructor(){this.apiUrl="http://localhost:8000",this.axiosInstance=l.create({baseURL:this.apiUrl,headers:{"Content-Type":"application/json"}})}addPageContent(t,o,a){return s(this,null,function*(){try{return(yield this.axiosInstance.post("/pages",{title:t,description:o,links:a})).data}catch(n){throw console.error("Error adding page content:",n),n}})}getPageContent(t){return s(this,null,function*(){try{return(yield this.axiosInstance.get("/pages",{params:{id:t}})).data}catch(o){throw console.error("Error fetching page content:",o),o}})}getCurrentPageId(){return s(this,null,function*(){try{return(yield this.axiosInstance.get("/current-page")).data}catch(t){throw console.error("Error fetching current page ID:",t),t}})}};r.\u0275fac=function(o){return new(o||r)},r.\u0275prov=i({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();var U=(()=>{let r=class r{constructor(t){this.http=t,this.apiUrl="http://localhost:8000/user-interactions",this.startTime=0,this.clicks=0,this.currentPageId=0}startTracking(t){this.startTime=Date.now(),this.clicks=0,this.currentPageId=t}recordClick(t,o,a,n){console.log("\u{1F539} recordClick() called"),console.log("\u{1F4CC} pageId:",t),console.log("\u{1F4CC} userId:",o),console.log("\u{1F4CC} timeSpent:",a),console.log("\u{1F4CC} linksClicked:",n);let d={page_id:t,user_id:o,time_spent:a,links_clicked:n};return console.log("\u{1F680} Sending interaction data:",d),this.http.post("http://localhost:8000/user-interaction",d).subscribe(h=>console.log("\u2705 Interaction recorded successfully:",h),h=>console.error("\u274C Error recording interaction:",h))}stopTracking(t){let o=Math.floor((Date.now()-this.startTime)/1e3),a={user_id:t,page_id:this.currentPageId,time_spent:o,links_clicked:this.clicks};this.http.post(`${this.apiUrl}/save`,a).subscribe(n=>{console.log("User interaction saved:",n)},n=>{console.error("Error saving user interaction:",n)})}};r.\u0275fac=function(o){return new(o||r)(c(p))},r.\u0275prov=i({token:r,factory:r.\u0275fac,providedIn:"root"});let e=r;return e})();export{m as a,w as b,j as c,U as d};
